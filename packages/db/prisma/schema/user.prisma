model User {
  id                           String           @id @default(auto()) @map("_id") @db.ObjectId
  name                         String // Renamed from user_name - Better Auth required
  email                        String // Better Auth required
  emailVerified                Boolean          @default(false) // Better Auth required
  image                        String? // Renamed from profile_img
  country_code                 String?
  phone_no                     Float?
  dob                          String?
  status                       Int              @default(1)
  country                      String           @default("")
  email_otp                    String?
  temp_otp                     String?
  new_email_otp                String?
  twofaEmailOtp                Int              @default(0)
  access_key                   Boolean          @default(false)
  apiAccessOtp                 Int              @default(1)
  temp_token                   Json?
  profile_otp                  String           @default("0")
  app_finger_status            String           @default("0")
  app_face_status              String           @default("0")
  reason                       String           @default("")
  type                         String           @default("")
  parent_id                    String           @default("")
  mobile_number                Float?           @default(0)
  modifiedAt                   DateTime         @default(now())
  createdAt                    DateTime         @default(now())
  issuspend                    Boolean          @default(false)
  address                      String           @default("")
  city                         String           @default("")
  role                         String? // Changed from Int to String - Better Auth requirement (superadmin, admin, user)
  is_logged                    String           @default("0")
  ipaddr                       String           @default("0")
  location                     String           @default("0")
  verifytoken                  String           @default("")
  device_type                  String           @default("")
  remember_token               String           @default("")
  profileimage                 String?
  deletedAt                    DateTime?
  authToken                    String?
  lastSeen                     String?
  ref_code                     String?
  ref_by                       String?
  socket_id                    String?
  user_engagement_month_report Boolean          @default(true)
  isBlocked                    Boolean          @default(false)
  updatedBy                    String?          @db.ObjectId
  createdBy                    String?          @db.ObjectId
  balance                      Float            @default(0)
  availableBalance             Float            @default(0)
  escrowBalance                Float            @default(0)
  isDeleted                    Boolean          @default(false)
  browser                      String?
  os                           String?
  version                      String?
  deposit_amt                  Float?
  withdraw_amt                 Float?
  isPasswordUpdatedByUpline    Boolean?
  sportsList                   UserSportsList[]
  updatedAt                    DateTime         @updatedAt

  // Better Auth Admin Plugin Fields
  banned     Boolean   @default(false)
  banReason  String?
  banExpires DateTime?

  @@map("users")
}

type NotificationStatus {
  ptop        Int @default(1)
  supportChat Int @default(1)
}

type UserSportsList {
  game   String?
  status Boolean?
}

model UserLogin {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  user_id   String?
  ipaddress String?
  city      String?
  country   String?
  status    Boolean?
  type      String?
  browser   String?
  os        String?
  createdAt DateTime @default(now())

  @@map("user_logins")
}

model IpTracker {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  ip        String?
  time      Json?
  block     Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("iptrackers")
}

model TransactionHistory {
  id                String           @id @default(auto()) @map("_id") @db.ObjectId
  sender_id         String?
  sender_name       String?
  sender_role       Int?
  receiver_role     Int?
  amount            Float?
  receiver_id       String?
  receiver_name     String?
  type              TransactionType?
  remaining_balance Float?
  from_to           Int?
  remarks           String?
  user_id           String?          @db.ObjectId
  createdAt         DateTime         @default(now())
  updatedAt         DateTime         @updatedAt

  @@map("transaction_histories")
}
