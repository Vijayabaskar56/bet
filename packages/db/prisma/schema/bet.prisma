model Bet {
  id             String     @id @default(auto()) @map("_id") @db.ObjectId
  userId         String     @db.ObjectId
  marketId       String
  marketType     MarketType
  matchId        String
  selectionId    String
  type           BetType
  odds           Float
  stake          Float
  initialStake   Float
  liability      Float?
  maxLoss        Float // Calculated max possible loss (locks exposure)
  eventName      String
  selectionName  String
  status         BetStatus  @default(PENDING)
  matchedTradeId String?    @db.ObjectId

  // Settlement fields
  payout     Float? // Final payout amount after settlement
  commission Float? // Commission paid to agent
  settledAt  DateTime? // When bet was settled

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("bets")
}
